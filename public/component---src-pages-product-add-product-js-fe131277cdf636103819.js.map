{"version":3,"sources":["webpack:///./src/pages/product/add-product.js"],"names":["Input","styled","InputGroup","SelectStyled","Select","isBrowser","window","AddProduct","state","CompanyData","ProductDataName","ProductDataId","ProductDescription","saveState","data","setState","onSaveProduct","e","axios","method","url","params","tblName","queryType","ProductCompanyID","then","response","console","log","catch","error","onSelectCompanyOption","value","onChangeProductName","target","onChangeProductDescription","componentWillUnmount","this","componentDidMount","isLoggedIn","location","href","get","JSON","stringify","render","title","className","breakPoint","xs","htmlFor","fullWidth","size","type","placeholder","id","name","onChange","bind","options","map","companyId","label","companyName","md","shape","rows","status","onClick","Component"],"mappings":"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","file":"component---src-pages-product-add-product-js-fe131277cdf636103819.js","sourcesContent":["import Select from '@paljs/ui/Select';\nimport { InputGroup } from '@paljs/ui/Input';\nimport { Card, CardBody } from '@paljs/ui/Card';\nimport { ButtonLink } from '@paljs/ui/Button';\nimport { Button } from '@paljs/ui/Button';\nimport { navigate } from 'gatsby';\nimport Col from '@paljs/ui/Col';\nimport Row from '@paljs/ui/Row';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport SEO from '../../components/SEO';\nimport axios from 'axios';\nimport { Container } from '@material-ui/core';\n\nimport { isLoggedIn } from \"../../components/services/auth\"\n\nconst Input = styled(InputGroup)`\n  margin-bottom: 10px;\n`;\nconst SelectStyled = styled(Select)`\n  margin-bottom: 1rem;\n`;\n\nconst isBrowser = typeof window !== \"undefined\"\n\nexport default class AddProduct extends Component  {\n  state = {\n    CompanyData: [],\n    ProductDataName: '',\n    ProductDataId: '',\n    ProductDescription: ''\n  }\n\n  saveState = (data) => {\n    this.setState(data);\n  }\n\n  componentWillUnmount(){\n    this.setState({\n      CompanyData: [],\n      ProductDataName: '',\n      ProductDataId: '',\n      ProductDescription: ''\n    })  \n  }\n  componentDidMount() {\n    if (!isLoggedIn() && isBrowser) {\n      window.location.href=\"/\"\n    }\n    // ajax\n\n    const { saveState } = this;\n\n     /** Get All Company Details **/\n     axios.get('https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php', {\n      params: {\n        tblName: 'tblCompany',\n        queryType: 'getAllCompanyInfo'\n      }\n    })\n    .then(function (response) {\n      console.log('Company Data: '+ JSON.stringify(response.data));\n      saveState({\n        CompanyData: response.data\n      });\n       \n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .then(function (response) {\n      // always executed\n      console.log(response,`successfull`);\n    });\n\n\n  }\n\n  \n  /** Saving Product **/\n  onSaveProduct = (e) => {\n    axios({\n      method: 'get',\n      url: 'https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php',\n      params: {\n        tblName: 'tblProducts',\n        queryType: 'addProductInfo',\n        ProductCompanyID: this.state.ProductDataId,\n        ProductDataName: this.state.ProductDataName,\n        ProductDescription: this.state.ProductDescription,\n      }\n    })\n    .then(function (response) {\n      console.log(response,`New Product Info successfully Added`);\n    })\n    .catch(function (error) {\n      console.log(error,`error`);\n    });\n  }\n\n  onSelectCompanyOption = (e) => { \n    this.saveState({\n      ProductDataId: e.value\n    });\n  }\n\n  onChangeProductName = (e) => {\n    // v will be true or false\n    this.saveState({\n      ProductDataName: e.target.value\n    });\n\n  }\n\n  onChangeProductDescription = (e) => {\n    // v will be true or false\n    this.saveState({\n      ProductDescription: e.target.value\n    });\n    \n  }\n\n  render() {\n\n    const {onChangeProductName, onSelectCompanyOption, onSaveProduct, onChangeProductDescription, state} = this;\n\n    return (\n      <>\n        <SEO title=\"ADD PRODUCT/SERVICE\" />\n        <div className=\"content-wrapper px-4 py-4\">\n          <Card>\n              <CardBody>\n\n                <Container>\n                    <Row>\n                      <Col breakPoint={{ xs: 12 }}>\n                        <h1 className=\"text-center mb-5\">ADD PRODUCT/SERVICE</h1>\n                      </Col>\n                    </Row>\n\n                    <Row className=\"justify-content-center align-items-center mb-5\">\n                      <Col className=\"col-lg-12\">\n                      <form>\n                          <Row>\n                            <Col breakPoint={{ xs: 12 }} >\n                            <label htmlFor=\"ProductName\">Product/Service Name</label>\n                              <Input fullWidth size=\"Small\" className=\"notes\">\n                                <input type=\"text\" placeholder=\"\" id=\"ProductName\" className=\"ProductName\" name=\"ProductName\" onChange={onChangeProductName.bind(this)}/>\n                              </Input>\n                            </Col>\n                            <Col breakPoint={{ xs: 12 }}>\n                              <label htmlFor=\"CompanyID\">Company</label>\n                              <SelectStyled options={state.CompanyData.map(({ companyId, companyName }) => { \n                                  return { value: companyId, label: companyName };\n                                })}  placeholder='Select Company' id=\"CompanyID\" name=\"CompanyID\"  onChange={onSelectCompanyOption.bind(this)}  />\n                            </Col>\n                            <Col breakPoint={{ xs: 12 }} breakPoint={{ md: 12 }}>\n                              <label htmlFor=\"ProductDescription\">Product/Service Description</label>\n                              <Input fullWidth shape=\"Round\">\n                                <textarea rows={5} placeholder=\"\" name=\"ProductDescription\" id=\"ProductDescription\" onChange={onChangeProductDescription.bind(this)}/> \n                              </Input>\n                            </Col>\n                            <Col breakPoint={{ xs: 12 }} breakPoint={{ md: 6 }}></Col>\n                            <Col breakPoint={{ xs: 12 }} breakPoint={{ md: 6 }}>\n                                <Button status=\"Success\" type=\"button\" shape=\"SemiRound\" onClick={onSaveProduct} fullWidth>Save</Button>\n                            </Col>\n                        </Row>\n                              \n                      </form> \n                      </Col>\n                    </Row>\n\n                  </Container>\n\n              </CardBody>\n            </Card>\n          </div>\n      </>\n    );\n  }\n}"],"sourceRoot":""}