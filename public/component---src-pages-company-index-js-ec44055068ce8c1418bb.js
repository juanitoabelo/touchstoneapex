(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"0nSN":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return w}));var n=t("JX7q"),r=t("dI71"),o=(t("ToJy"),t("0HrA")),l=t("G9dV"),c=t("jGo9"),i=t("DAwz"),s=t("Wbzz"),m=t("paqj"),p=t("eUAm"),u=t("q1tI"),d=t.n(u),g=t("vOnD"),h=t("1Yd/"),b=t("vDqi"),E=t.n(b),y=t("Ji2X"),f=t("PoRk"),v=t("e65S"),C=t("kzC8"),N=Object(g.e)(l.a).withConfig({displayName:"company__Input",componentId:"tovla3-0"})(["margin-bottom:10px;"]),k=Object(g.e)(o.a).withConfig({displayName:"company__SelectStyled",componentId:"tovla3-1"})(["margin-bottom:1rem;"]),S="undefined"!=typeof window,w=function(e){function a(){for(var a,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(a=e.call.apply(e,[this].concat(r))||this).state={data:[],tempData:[],loader:"",searchFor:"",error:!1,errorMsg:"",perpage:10,current:0,pagination:1},a.saveState=function(e){a.setState(e)},a.editViewProduct=function(e,a){a.preventDefault(),console.log(a,"eeee"),console.log(e)},a.onSearchCompany=function(){var e=Object(n.a)(a),t=e.saveState,r=e.state.searchFor;a.setState({data:[],error:!1,errorMsg:"",perpage:10,current:0,pagination:1,toggleName:!0,loader:"Loading!!!"}),E.a.get("https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php",{params:{searchFor:r,tblName:"tblCompany",queryType:"searchCompanyByName"}}).then((function(e){var a=e.data,n=!1,r="";a.length<=0&&(n=!0,r=C.c),t({data:a,tempData:a,error:n,errorMsg:r})})).catch((function(e){console.log(e),t({error:"error"})}))},a.onChangeStatus=function(e){a.setState({searchFor:e.target.value})},a.sortCol=function(e){var t,n=a.state,r=n.data,o=n.toggleName,l=n.toggleType,c=n.toggleIoA;r.sort((function(a,n){var r,i,s;switch(e){case"Name":s=o,t={toggleName:!o},r=a.Name.toUpperCase(),i=n.Name.toUpperCase();break;case"Type":s=l,t={toggleType:!l},r=a.Type.toUpperCase(),i=n.Type.toUpperCase();break;case"IoA":s=c,t={toggleIoA:!c},r=a.IoA.toUpperCase(),i=n.IoA.toUpperCase();break;default:s=o,t={toggleName:!o},r=a.Name.toUpperCase(),i=n.Name.toUpperCase()}return Object(C.o)(r,i,s)})),a.saveState(Object.assign({data:r},t))},a.pageFunc=function(e,t,n,r,o){if(void 0===r&&(r=0),o.preventDefault(),void 0===e)return"type required";if(void 0===t)return"perpage required";if(void 0===n)return"max required";var l=a.state,c=l.pagination,i=l.current,s=l.data,m=Object(C.j)({lengthData:s.length,pagination:c,current:i,perpage:t,max:n,number:r,type:e});a.saveState(m)},a.pageFuncLimit=function(e,t){var n=a.state,r=n.current,o=n.data,l=n.perpage,c=n.pagination,i=t.target.value;if(i>0&&i<=e){var s=Object(C.j)({lengthData:o.length,pagination:c,current:r,perpage:l,max:e,number:i});a.saveState(s)}},a.onChangeDropdown=function(e){a.saveState({perpage:e.value,current:0,pagination:1})},a.manipulateData=function(e){var t=e.query,n=e.queryBy,r=a.state.tempData.filter((function(e){switch(n){case"Name":return-1!==e.Name.toLowerCase().indexOf(t.toLowerCase());case"Type":return-1!==e.Type.toLowerCase().indexOf(t.toLowerCase());case"IoA":return-1!==e.IoA.toLowerCase().indexOf(t.toLowerCase());default:return e}})),o={};r.length<=0&&(o={error:!0,errorMsg:C.c}),a.saveState(Object.assign({data:r,current:0,pagination:1},o))},a.resetMe=function(){a.saveState({data:a.state.tempData,current:0,pagination:1})},a.display=function(e){var t=e.data,r=e.loader,o=e.error,l=e.errorMsg,c=e.current,i=e.perpage,u=e.pagination,g=Object(n.a)(a),h=g.pageFunc,b=g.pageFuncLimit,E=g.sortCol,f=g.onChangeDropdown,N=g.manipulateData,S=g.resetMe,w=[{value:"Name",label:"Company Name"},{value:"Type",label:"Company Type"},{value:"IoA",label:"INSURANCE NAME"}];if(void 0!==t&&t.length>0){var j,O,x=t.slice(c,c+i),I=Math.floor(t.length/i)+(Math.floor(t.length%i)>0?1:0);return d.a.createElement("div",null,d.a.createElement(v.a,{dropdown:w,searchMe:N,resetMe:S}),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{scope:"col",onClick:E.bind(Object(n.a)(a),"Name")},"Company Name"),d.a.createElement("th",{scope:"col",onClick:E.bind(Object(n.a)(a),"Type")},"Company Type"),d.a.createElement("th",{scope:"col",onClick:E.bind(Object(n.a)(a),"IoA")},"INSURANCE NAME"))),d.a.createElement("tbody",null,x.map((function(e){var a=e.ID,t=e.Name,n=e.Type,r=e.IoA;return d.a.createElement("tr",{key:a},d.a.createElement("td",null,d.a.createElement(s.Link,{className:"color-red text-decoration-none",to:"/company/edit-company?companyID="+a},t)),d.a.createElement("td",null,n),d.a.createElement("td",null,r))})))),d.a.createElement("nav",{"aria-label":"Page navigation example"},d.a.createElement(y.a,null,d.a.createElement(p.a,null,d.a.createElement(m.a,((j={breakPoint:{xs:12}}).breakPoint={md:8},j),d.a.createElement("ul",{class:"pagination"},d.a.createElement("li",{class:"page-item"},d.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"first",i,I,0)},"«")),d.a.createElement("li",{class:"page-item"},d.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"prev",i,I,0)},"‹")),Object(C.i)(I,b,u),d.a.createElement("li",{class:"page-item"},d.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"next",i,I,0)},"›")),d.a.createElement("li",{class:"page-item"},d.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"last",i,I,0)},"»")))),d.a.createElement(m.a,((O={breakPoint:{xs:12}}).breakPoint={md:4},O),d.a.createElement(k,{options:C.k,placeholder:i,value:i,id:"perPage",name:"perPage",onChange:f.bind(Object(n.a)(a))}))))))}if(o)switch(l){case C.c:return d.a.createElement("div",null,d.a.createElement(v.a,{dropdown:w,searchMe:N,resetMe:S}),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{scope:"col"},"Company Name"),d.a.createElement("th",{scope:"col"},"Company Type"),d.a.createElement("th",{scope:"col"},"Influencer or Advocate")))))}return r},a.keyEnterKey=function(e){"Enter"===e.key&&a.onSearchCompany()},a}Object(r.a)(a,e);var t=a.prototype;return t.componentDidMount=function(){!Object(f.c)()&&S&&(window.location.href="/")},t.render=function(){var e,a,t,n=this.onSearchCompany,r=this.onChangeStatus,o=this.keyEnterKey,l=this.display,s=this.state;s.searchFor;return d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,{title:"Company Search"}),d.a.createElement("div",{className:"content-wrapper px-4 py-4"},d.a.createElement(c.a,null,d.a.createElement(c.b,null,d.a.createElement(y.a,null,d.a.createElement(p.a,null,d.a.createElement(m.a,{breakPoint:{xs:12}},d.a.createElement("h1",{className:"mb-5"},"Company Search"))),d.a.createElement(p.a,{className:"justify-content-center align-items-center mb-5"},d.a.createElement(m.a,{className:"col-lg-12"},d.a.createElement(p.a,null,d.a.createElement(m.a,{breakPoint:{xs:12}},d.a.createElement("label",{htmlFor:"SearchVal"},"Search For"),d.a.createElement(N,{fullWidth:!0,size:"Medium",className:"SearchVal"},d.a.createElement("input",{type:"text",placeholder:"",id:"SearchVal",name:"SearchVal",onKeyUp:o.bind(this),onChange:r.bind(this)}))),d.a.createElement(m.a,((e={breakPoint:{xs:12}}).breakPoint={md:6},e)),d.a.createElement(m.a,((a={breakPoint:{xs:12}}).breakPoint={md:6},a),d.a.createElement(i.a,{status:"Success",type:"button",shape:"SemiRound",onClick:n,fullWidth:!0},"Search"))))),d.a.createElement(p.a,{className:"justify-content-center align-items-center mb-4"},d.a.createElement(m.a,((t={breakPoint:{xs:12}}).breakPoint={md:12},t),d.a.createElement("h2",{className:"mb-0"},"Search Results"))),d.a.createElement(p.a,{className:"mb-5"},d.a.createElement(m.a,{id:"main_view"},l(s))))))))},a}(u.Component)}}]);
//# sourceMappingURL=component---src-pages-company-index-js-ec44055068ce8c1418bb.js.map