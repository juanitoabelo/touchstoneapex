(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"3Lts":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return j}));var n=t("JX7q"),r=t("dI71"),c=(t("ToJy"),t("0HrA")),l=t("G9dV"),o=t("jGo9"),i=t("DAwz"),s=t("Wbzz"),m=t("paqj"),u=t("eUAm"),d=t("q1tI"),p=t.n(d),b=t("vOnD"),h=t("1Yd/"),g=t("vDqi"),E=t.n(g),v=t("Ji2X"),f=t("e65S"),N=t("PoRk"),y=t("kzC8"),C=Object(b.e)(l.a).withConfig({displayName:"product__Input",componentId:"m32r0f-0"})(["margin-bottom:10px;"]),P=Object(b.e)(c.a).withConfig({displayName:"product__SelectStyled",componentId:"m32r0f-1"})(["margin-bottom:1rem;"]),S=[{label:"By"},{value:"Name",label:"Name"},{value:"Description",label:"Description"}],k="undefined"!=typeof window,j=function(e){function a(){for(var a,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(a=e.call.apply(e,[this].concat(r))||this).state={data:[],tempData:[],loader:"",searchBy:"Name",searchFor:"",error:!1,errorMsg:"",perpage:10,current:0,pagination:1},a.saveState=function(e){a.setState(e)},a.searchMe=function(){var e=Object(n.a)(a),t=e.saveState,r=e.state,c=r.searchFor,l=r.searchBy;a.setState({data:[],tempData:[],searchBy:"Name",searchFor:"",error:!1,errorMsg:"",perpage:10,current:0,pagination:1,togglePName:!0,loader:"Loading!!!"}),E.a.get("https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php",{params:{searchFor:c,searchBy:l,tblName:"tblProducts",queryType:"searchType"}}).then((function(e){var a=e.data,n=!1,r="";a.length<=0&&(n=!0,r=y.c),t({data:a,tempData:a,error:n,errorMsg:r})})).catch((function(e){console.log(e),t({error:"error"})}))},a.pageFunc=function(e,t,n,r,c){if(void 0===r&&(r=0),c.preventDefault(),void 0===e)return"type required";if(void 0===t)return"perpage required";if(void 0===n)return"max required";var l=a.state,o=l.pagination,i=l.current,s=l.data,m=Object(y.j)({lengthData:s.length,pagination:o,current:i,perpage:t,max:n,number:r,type:e});a.saveState(m)},a.pageFuncLimit=function(e,t){var n=a.state,r=n.current,c=n.data,l=n.perpage,o=n.pagination,i=t.target.value;if(i>0&&i<=e){var s=Object(y.j)({lengthData:c.length,pagination:o,current:r,perpage:l,max:e,number:i});a.saveState(s)}},a.sortCol=function(e){var t,n=a.state,r=n.data,c=n.togglePName,l=n.toggleCName,o=n.toggleStatus;r.sort((function(a,n){var r,i="",s="";switch(e){case"ProductName":i=Object(y.d)(a.ProductName),s=Object(y.d)(n.ProductName),r=c,t={togglePName:!c};break;case"CompanyName":i=Object(y.d)(a.CompanyName),s=Object(y.d)(n.CompanyName),r=l,t={toggleCName:!l};break;case"ProductStatus":i=Object(y.d)(a.ProductStatus),s=Object(y.d)(n.ProductStatus),r=o,t={toggleStatus:!o};break;default:i=Object(y.d)(a.ProductName),s=Object(y.d)(n.ProductName),r=c,t={togglePName:!c}}return Object(y.o)(i,s,r)})),a.saveState(Object.assign({data:r},t))},a.onChangeDropdown=function(e){a.saveState({perpage:e.value,current:0,pagination:1})},a.manipulateData=function(e){var t=e.query,n=e.queryBy,r=a.state.tempData.filter((function(e){switch(n){case"ProductName":return-1!==e.ProductName.toLowerCase().indexOf(t.toLowerCase());case"CompanyName":return null!==e.CompanyName&&-1!==e.CompanyName.toLowerCase().indexOf(t.toLowerCase());case"ProductStatus":return e.ProductStatus==t;default:return e}})),c={};r.length<=0&&(c={error:!0,errorMsg:y.c}),a.saveState(Object.assign({data:r,current:0,pagination:1},c))},a.resetMe=function(){a.saveState({data:a.state.tempData,current:0,pagination:1})},a.display=function(e){var t=e.data,r=e.loader,c=e.error,l=e.errorMsg,o=e.current,i=e.perpage,d=e.pagination,b=Object(n.a)(a),h=b.pageFunc,g=b.pageFuncLimit,E=b.sortCol,N=b.onChangeDropdown,C=b.manipulateData,S=b.resetMe,k=[{value:"ProductName",label:"SERVICE NAME"},{value:"CompanyName",label:"Company"},{value:"ProductStatus",label:"STATUS"}];if(void 0!==t&&t.length>0){var j,O,w=t.slice(o,o+i),x=Math.floor(t.length/i)+(Math.floor(t.length%i)>0?1:0);return p.a.createElement("div",null,p.a.createElement(f.a,{dropdown:k,searchMe:C,resetMe:S}),p.a.createElement("table",{className:"table table-striped table-hover"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{scope:"col"},"ACTION"),p.a.createElement("th",{scope:"col",onClick:E.bind(Object(n.a)(a),"ProductName")},"SERVICE NAME"),p.a.createElement("th",{scope:"col",onClick:E.bind(Object(n.a)(a),"CompanyName")},"Company"),p.a.createElement("th",{scope:"col",onClick:E.bind(Object(n.a)(a),"ProductStatus")},"STATUS"))),p.a.createElement("tbody",null,w.map((function(e){var a=e.ProductID,t=e.ProductName,n=e.CompanyName,r=e.ProductStatus,c=e.CompanyID;return p.a.createElement("tr",{key:a},p.a.createElement("td",null,p.a.createElement(s.Link,{className:"color-red text-decoration-none",to:"/product/edit-product?prodId="+a+"&companyId="+c},"Edit/View")),p.a.createElement("td",null,t),p.a.createElement("td",null,n),p.a.createElement("td",null,r))})))),p.a.createElement("nav",{"aria-label":"Page navigation example"},p.a.createElement(v.a,null,p.a.createElement(u.a,null,p.a.createElement(m.a,((j={breakPoint:{xs:12}}).breakPoint={md:8},j),p.a.createElement("ul",{class:"pagination"},p.a.createElement("li",{class:"page-item"},p.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"first",i,x,0)},"«")),p.a.createElement("li",{class:"page-item"},p.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"prev",i,x,0)},"‹")),Object(y.i)(x,g,d),p.a.createElement("li",{class:"page-item"},p.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"next",i,x,0)},"›")),p.a.createElement("li",{class:"page-item"},p.a.createElement("a",{href:"/#",class:"page-link",onClick:h.bind(Object(n.a)(a),"last",i,x,0)},"»")))),p.a.createElement(m.a,((O={breakPoint:{xs:12}}).breakPoint={md:4},O),p.a.createElement(P,{options:y.k,placeholder:i,value:i,id:"perPage",name:"perPage",onChange:N.bind(Object(n.a)(a))}))))))}if(c)switch(l){case y.c:return p.a.createElement("div",null,p.a.createElement(f.a,{dropdown:k,searchMe:C,resetMe:S}),p.a.createElement("table",{className:"table table-striped table-hover"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{scope:"col"},"ACTION"),p.a.createElement("th",{scope:"col"},"SERVICE NAME"),p.a.createElement("th",{scope:"col"},"Company"),p.a.createElement("th",{scope:"col"},"STATUS")))))}return r},a.changeSearchOption=function(e,t){switch(e){case"name":a.saveState({searchFor:t.target.value});break;case"desc":a.saveState({searchBy:t.value})}},a}Object(r.a)(a,e);var t=a.prototype;return t.componentDidMount=function(){!Object(N.c)()&&k&&(window.location.href="/")},t.render=function(){var e,a,t,n,r,c=this.searchMe,l=this.changeSearchOption,s=this.state,d=s.searchBy,b=s.searchFor;return p.a.createElement(p.a.Fragment,null,p.a.createElement(h.a,{title:"Product/Services Search"}),p.a.createElement("div",{className:"px-4 py-4"},p.a.createElement(o.a,null,p.a.createElement(o.b,null,p.a.createElement(v.a,null,p.a.createElement(u.a,null,p.a.createElement(m.a,{breakPoint:{xs:12}},p.a.createElement("h1",{className:"text-center mb-5"},"PRODUCT/SERVICE SEARCH"))),p.a.createElement(u.a,{className:"justify-content-center align-items-center mb-5"},p.a.createElement(m.a,{className:"col-lg-12"},p.a.createElement("form",null,p.a.createElement(u.a,null,p.a.createElement(m.a,((e={breakPoint:{xs:12}}).breakPoint={md:6},e),p.a.createElement("label",{htmlFor:"notes"},"Search For"),p.a.createElement(C,{fullWidth:!0,size:"Small",className:"notes"},p.a.createElement("input",{type:"text",placeholder:"Apex Notes",id:"notes",className:"notes2",value:b,onChange:l.bind(this,"name")}))),p.a.createElement(m.a,((a={breakPoint:{xs:12}}).breakPoint={md:6},a),p.a.createElement("label",{htmlFor:"type"},"By"),p.a.createElement(P,{options:S,placeholder:d,id:"type",value:d,onChange:l.bind(this,"desc")})),p.a.createElement(m.a,((t={breakPoint:{xs:12}}).breakPoint={md:6},t)),p.a.createElement(m.a,((n={breakPoint:{xs:12}}).breakPoint={md:6},n),p.a.createElement(i.a,{status:"Success",type:"button",shape:"SemiRound",onClick:c.bind(this),fullWidth:!0},"Search")))))),p.a.createElement(u.a,{className:"justify-content-center align-items-center mb-4"},p.a.createElement(m.a,((r={breakPoint:{xs:12}}).breakPoint={md:12},r),p.a.createElement("h2",{className:"mb-0"},"Results"))),p.a.createElement(u.a,{className:"mb-5"},p.a.createElement(m.a,{id:"main_view"},this.display(s))))))))},a}(d.Component)}}]);
//# sourceMappingURL=component---src-pages-product-index-js-4ee0a572dd3e11317a16.js.map