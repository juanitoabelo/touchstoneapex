{"version":3,"sources":["webpack:///./src/pages/user/add-user.js"],"names":["Input","styled","InputGroup","SelectStyled","Select","isBrowser","window","Index","state","FirstName","LastName","EmailAddress","Password","CompanyID","DepartmentID","CompanyData","DepartmentData","UserAddedState","saveState","data","setState","onAdddUser","axios","method","url","params","tblName","queryType","then","response","console","log","catch","error","onChangeStatus","e","target","name","value","onChangeDepartmentOptions","onChangeCompanyOption","componentWillUnmount","this","componentDidMount","isLoggedIn","location","href","render","title","className","breakPoint","xs","htmlFor","fullWidth","size","type","placeholder","id","onChange","bind","md","options","map","companyId","label","companyName","DepartmentName","status","shape","onClick","Component"],"mappings":"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","file":"component---src-pages-user-add-user-js-deae9a62cd9ae2f6112b.js","sourcesContent":["import Select from '@paljs/ui/Select';\nimport { InputGroup } from '@paljs/ui/Input';\nimport { Card, CardBody } from '@paljs/ui/Card';\nimport { ButtonLink } from '@paljs/ui/Button';\nimport { Button } from '@paljs/ui/Button';\nimport { navigate } from 'gatsby';\nimport Col from '@paljs/ui/Col';\nimport Row from '@paljs/ui/Row';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport SEO from '../../components/SEO';\nimport axios from 'axios';\nimport { Container } from '@material-ui/core';\nimport { useForm } from \"react-hook-form\"\nimport { isLoggedIn } from \"../../components/services/auth\"\n\nconst Input = styled(InputGroup)`\n  margin-bottom: 10px;\n`;\nconst SelectStyled = styled(Select)`\n  margin-bottom: 1rem;\n`;\n\nconst selectDepartmentOptions = [\n  { value: '1', label: 'Administrators' },\n];\n\nconst isBrowser = typeof window !== \"undefined\"\n\nexport default class Index extends Component {\n  state = {\n    FirstName: '',\n    LastName: '',\n    EmailAddress: '',\n    Password: '',\n    CompanyID: '',\n    DepartmentID: '',\n    CompanyData: [],\n    DepartmentData: [],\n    UserAddedState: false,\n  }\n  \n  componentWillUnmount(){\n    this.setState({\n      FirstName: '',\n      LastName: '',\n      EmailAddress: '',\n      Password: '',\n      CompanyID: '',\n      DepartmentID: '',\n      CompanyData: [],\n      DepartmentData: [],\n      UserAddedState: false,\n    })\n  }\n  componentDidMount() {\n    if (!isLoggedIn() && isBrowser) {\n      window.location.href=\"/\"\n    }\n    const { saveState, state } = this;\n\n    /** Get All Company Details **/\n    axios({\n      method: 'get',\n      url: 'https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php',\n      params: {\n        tblName: 'tblCompany',\n        queryType: 'getAllCompanyInfo'\n      }\n    })\n    .then(function (response) {\n       //console.log('Company Type Data: '+ JSON.stringify(response.data));\n      saveState({\n        CompanyData: response.data\n      });\n       \n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .then(function (response) {\n      // always executed\n      console.log(response,`successfull`);\n    });\n\n    /** Get All Company Details **/\n    axios({\n      method: 'get',\n      url: 'https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php',\n      params: {\n        tblName: 'tblDepartments',\n        queryType: 'getAllDepartments'\n      }\n    })\n    .then(function (response) {\n       //console.log('Departments Type Data: '+ JSON.stringify(response.data));\n      saveState({\n        DepartmentData: response.data\n      });\n       \n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .then(function (response) {\n      // always executed\n      console.log(response,`successfull`);\n    });\n\n  }\n\n  saveState = (data) => {\n    this.setState(data);\n  }\n\n  onAdddUser = () => {\n    const { saveState, state } = this;\n    axios({\n      method: 'get',\n      url: 'https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php',\n      params: {\n        tblName: 'tblUsers',\n        queryType: 'addNewUserList',\n        FirstName: this.state.FirstName,\n        LastName: this.state.LastName,\n        EmailAddress: this.state.EmailAddress,\n        Password: this.state.Password,\n        CompanyID: this.state.CompanyID,\n        DepartmentID: this.state.DepartmentID\n      }\n    })\n    .then(function (response) {\n      console.log(response,`Added New User successfull`);\n      saveState({\n        UserAddedState: true\n      });\n    })\n    .catch(function (error) {\n      console.log(error,`error`);\n    });\n  }\n  onChangeStatus = (e) => {\n    // console.log(e.target.name);\n    switch(e.target.name){\n      case 'FirstName':\n        this.saveState({\n          FirstName: e.target.value\n        });\n        break;\n      case 'LastName':\n        this.saveState({\n          LastName: e.target.value\n        });\n        break;\n      case 'EmailAddress':\n        this.saveState({\n          EmailAddress: e.target.value\n        });\n        break;\n      case 'Password':\n        this.saveState({\n          Password: e.target.value\n        });\n        break;\n    }\n    \n  }\n\n  onChangeDepartmentOptions = (e) => {\n     //console.log(e.label);\n    this.saveState({\n      DepartmentID: e.value\n    });\n  }\n  onChangeCompanyOption = (e) => {\n    // console.log(e.label);\n    this.saveState({\n      CompanyID: e.value\n    });\n  }\n  \n  render(){\n    const { state, onAdddUser, onChangeStatus, onChangeDepartmentOptions, onChangeCompanyOption } = this;\n    return (\n      <>\n        <SEO title=\"ADD USER\" />\n        <div className=\"content-wrapper px-4 py-4\">\n\n        \n        <Card>\n            <CardBody>\n\n              <Container>\n                  <Row>\n                    <Col breakPoint={{ xs: 12 }}>\n                      <h1 className=\"text-center mb-5\">ADD USER</h1>\n                    </Col>\n                  </Row>\n\n                  <Row className=\"justify-content-center align-items-center mb-5\">\n                    <Col className=\"col-lg-12\">\n                    { this.state.UserAddedState ? <div className=\"text-center text-success\">Successfully added a new user!</div> : null }\n                      \n                    <form>\n                        <Row>\n                          <Col breakPoint={{ xs: 12 }}>\n                              <label htmlFor=\"FirstName\">First Name</label>\n                              <Input fullWidth size=\"Medium\" className=\"FirstName\">\n                              <input type=\"text\" placeholder=\"\" id=\"FirstName\" name=\"FirstName\" onChange ={onChangeStatus.bind(this)}/>\n                            </Input>\n                          </Col>\n\n                          <Col breakPoint={{ xs: 12 }}>\n                          <label htmlFor=\"LastName\">Last Name</label>\n                            <Input fullWidth size=\"Medium\" className=\"LastName\">\n                              <input type=\"text\" placeholder=\"\" id=\"LastName\" name=\"LastName\" onChange ={onChangeStatus.bind(this)}/>\n                            </Input>\n                          </Col>\n\n                          <Col breakPoint={{ xs: 12 }}>\n                          <label htmlFor=\"EmailAddress\">Email</label>\n                            <Input fullWidth size=\"Medium\" className=\"EmailAddress\">\n                              <input type=\"email\" placeholder=\"\" id=\"EmailAddress\" name=\"EmailAddress\" onChange ={onChangeStatus.bind(this)}/>\n                            </Input>\n                          </Col>\n\n                          <Col breakPoint={{ xs: 12 }}>\n                          <label htmlFor=\"Password\">Password</label>\n                            <Input fullWidth size=\"Medium\" className=\"Password\">\n                              <input type=\"password\" placeholder=\"\" id=\"Password\" name=\"Password\" onChange ={onChangeStatus.bind(this)}/>\n                            </Input>\n                          </Col>\n\n                          <Col breakPoint={{ xs: 12 }} breakPoint={{ md: 6 }}>\n                            <label htmlFor=\"CompanyID\">Company</label>\n                            <SelectStyled options={state.CompanyData.map(({ companyId, companyName }) => { \n                                  return { value: companyId, label: companyName };\n                                })}  placeholder={state.companyName}  id=\"CompanyID\" name=\"CompanyID\" onChange ={onChangeCompanyOption.bind(this)} />\n                          </Col>\n                          \n                          <Col breakPoint={{ xs: 12 }} breakPoint={{ md: 6 }}>\n                            <label htmlFor=\"DepartmentID\">Department</label>\n                            <SelectStyled options={state.DepartmentData.map(({ DepartmentID, DepartmentName }) => { \n                                  return { value: DepartmentID, label: DepartmentName };\n                                })}  placeholder={state.DepartmentName}  placeholder=\"Select\" id=\"DepartmentID\" name=\"DepartmentID\" onChange ={onChangeDepartmentOptions.bind(this)} />\n                          </Col>\n\n                          <Col breakPoint={{ xs: 12 }} breakPoint={{ md: 6 }}>\n                              <Button status=\"Success\" type=\"button\" shape=\"SemiRound\" onClick={onAdddUser} fullWidth>Save New Users</Button>\n                          </Col>\n                      </Row>\n                      \n                    </form> \n                    </Col>\n                  </Row>\n\n                </Container>\n\n            </CardBody>\n          </Card>\n          </div>\n      </>\n    );\n  }\n}"],"sourceRoot":""}