(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"4le0":function(n,t,e){"use strict";(function(n){e.d(t,"a",(function(){return i}));var o=function(){return"undefined"!=typeof window?window:n},i=function(){var n=o();return n&&n.tinymce?n.tinymce:null}}).call(this,e("yLpj"))},ROYo:function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return M}));var o,i,r=e("q1tI"),a=e.n(r),s=e("jGo9"),c=e("1Yd/"),u=e("17x9"),l=function(){return(l=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}).apply(this,arguments)},p={onActivate:u.func,onAddUndo:u.func,onBeforeAddUndo:u.func,onBeforeExecCommand:u.func,onBeforeGetContent:u.func,onBeforeRenderUI:u.func,onBeforeSetContent:u.func,onBeforePaste:u.func,onBlur:u.func,onChange:u.func,onClearUndos:u.func,onClick:u.func,onContextMenu:u.func,onCopy:u.func,onCut:u.func,onDblclick:u.func,onDeactivate:u.func,onDirty:u.func,onDrag:u.func,onDragDrop:u.func,onDragEnd:u.func,onDragGesture:u.func,onDragOver:u.func,onDrop:u.func,onExecCommand:u.func,onFocus:u.func,onFocusIn:u.func,onFocusOut:u.func,onGetContent:u.func,onHide:u.func,onInit:u.func,onKeyDown:u.func,onKeyPress:u.func,onKeyUp:u.func,onLoadContent:u.func,onMouseDown:u.func,onMouseEnter:u.func,onMouseLeave:u.func,onMouseMove:u.func,onMouseOut:u.func,onMouseOver:u.func,onMouseUp:u.func,onNodeChange:u.func,onObjectResizeStart:u.func,onObjectResized:u.func,onObjectSelected:u.func,onPaste:u.func,onPostProcess:u.func,onPostRender:u.func,onPreProcess:u.func,onProgressState:u.func,onRedo:u.func,onRemove:u.func,onReset:u.func,onSaveContent:u.func,onSelectionChange:u.func,onSetAttrib:u.func,onSetContent:u.func,onShow:u.func,onSubmit:u.func,onUndo:u.func,onVisualAid:u.func},d=l({apiKey:u.string,id:u.string,inline:u.bool,init:u.object,initialValue:u.string,onEditorChange:u.func,outputFormat:u.oneOf(["html","text"]),value:u.string,tagName:u.string,cloudChannel:u.string,plugins:u.oneOfType([u.string,u.array]),toolbar:u.oneOfType([u.string,u.array]),disabled:u.bool,textareaName:u.string,tinymceScriptSrc:u.string,scriptLoading:u.shape({async:u.bool,defer:u.bool,delay:u.number})},p),f=function(n){return"function"==typeof n},h=function(n){return n in p},v=function(n){return n.substr(2)},g=function(n,t,e,o,i){return function(n,t,e,o,i,r,a){var s=Object.keys(i).filter(h),c=Object.keys(r).filter(h),u=s.filter((function(n){return void 0===r[n]})),l=c.filter((function(n){return void 0===i[n]}));u.forEach((function(n){var t=v(n),o=a[t];e(t,o),delete a[t]})),l.forEach((function(e){var i=o(n,e),r=v(e);a[r]=i,t(r,i)}))}(i,n.on.bind(n),n.off.bind(n),(function(t,e){return function(o){var i;return null===(i=t(e))||void 0===i?void 0:i(o,n)}}),t,e,o)},y=0,m=function(n){var t=Date.now();return n+"_"+Math.floor(1e9*Math.random())+ ++y+String(t)},b=function(n){return null!==n&&("textarea"===n.tagName.toLowerCase()||"input"===n.tagName.toLowerCase())},C=function(n){return void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" ")},E=function(){return{listeners:[],scriptId:m("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},w=(o=E(),{load:function(n,t,e,i,r,a){var s=function(){return function(n,t,e,o,i,r){var a=t.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=n,a.src=e,a.async=o,a.defer=i,a.addEventListener("load",(function n(){a.removeEventListener("load",n),r()})),t.head&&t.head.appendChild(a)}(o.scriptId,n,t,e,i,(function(){o.listeners.forEach((function(n){return n()})),o.scriptLoaded=!0}))};o.scriptLoaded?a():(o.listeners.push(a),o.scriptLoading||(o.scriptLoading=!0,r>0?setTimeout(s,r):s()))},reinitialize:function(){o=E()}}),O=e("4le0"),k=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),S=function(){return(S=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}).apply(this,arguments)},j=function(n){function t(t){var e,o,i,a=n.call(this,t)||this;return a.handleEditorChange=function(n){var t=a.editor;if(t&&t.initialized){var e=t.getContent();if(e!==a.currentContent&&(a.currentContent=e,f(a.props.onEditorChange))){var o=a.props.outputFormat,i="html"===o?e:t.getContent({format:o});a.props.onEditorChange(i,t)}}},a.initialise=function(){var n=a.elementRef.current;if(n){var t=Object(O.a)();if(!t)throw new Error("tinymce should have been loaded into global scope");var e,o,i=S(S({},a.props.init),{selector:void 0,target:n,readonly:a.props.disabled,inline:a.inline,plugins:(e=a.props.init&&a.props.init.plugins,o=a.props.plugins,C(e).concat(C(o))),toolbar:a.props.toolbar||a.props.init&&a.props.init.toolbar,setup:function(t){a.editor=t,a.bindHandlers({}),a.inline&&!b(n)&&t.once("PostRender",(function(n){t.setContent(a.getInitialValue(),{no_events:!0})})),a.props.init&&f(a.props.init.setup)&&a.props.init.setup(t)},init_instance_callback:function(n){var t,e,o=a.getInitialValue();a.currentContent=null!==(t=a.currentContent)&&void 0!==t?t:n.getContent(),a.currentContent!==o&&(a.currentContent=o,n.setContent(o),n.undoManager.clear(),n.undoManager.add(),n.setDirty(!1));var i=null!==(e=a.props.disabled)&&void 0!==e&&e;n.setMode(i?"readonly":"design"),a.props.init&&f(a.props.init.init_instance_callback)&&a.props.init.init_instance_callback(n)}});a.inline||(n.style.visibility=""),b(n)&&(n.value=a.getInitialValue()),t.init(i)}},a.id=a.props.id||m("tiny-react"),a.elementRef=r.createRef(),a.inline=null!==(i=null!==(e=a.props.inline)&&void 0!==e?e:null===(o=a.props.init)||void 0===o?void 0:o.inline)&&void 0!==i&&i,a.boundHandlers={},a}return k(t,n),t.prototype.componentDidUpdate=function(n){var t,e,o=this;if(this.editor&&(this.bindHandlers(n),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==n.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var i=this.editor;i.undoManager.transact((function(){var n=i.selection.getBookmark(3);i.setContent(o.props.value);try{i.selection.moveToBookmark(n)}catch(t){}}))}if(this.props.disabled!==n.disabled){var r=null!==(e=this.props.disabled)&&void 0!==e&&e;this.editor.setMode(r?"readonly":"design")}}},t.prototype.componentDidMount=function(){var n,t,e,o,i,r;null!==Object(O.a)()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&w.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.async)&&void 0!==t&&t,null!==(o=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.defer)&&void 0!==o&&o,null!==(r=null===(i=this.props.scriptLoading)||void 0===i?void 0:i.delay)&&void 0!==r?r:0,this.initialise)},t.prototype.componentWillUnmount=function(){var n=this,t=this.editor;t&&(t.off("change keyup compositionend setcontent",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(e){t.off(e,n.boundHandlers[e])})),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.renderInline=function(){var n=this.props.tagName,t=void 0===n?"div":n;return r.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return r.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSrc=function(){if("string"==typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var n=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+n+"/tinymce.min.js"},t.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(n){var t=this;if(void 0!==this.editor){g(this.editor,n,this.props,this.boundHandlers,(function(n){return t.props[n]}));var e=function(n){return void 0!==n.onEditorChange||void 0!==n.value},o=e(n),i=e(this.props);!o&&i?this.editor.on("change keyup compositionend setcontent",this.handleEditorChange):o&&!i&&this.editor.off("change keyup compositionend setcontent",this.handleEditorChange)}},t.propTypes=d,t.defaultProps={cloudChannel:"5"},t}(r.Component);function M(){return a.a.createElement(s.a,null,a.a.createElement(c.a,{title:"Tiny MCE"}),a.a.createElement("header",null,"Tiny MCE"),a.a.createElement(s.b,null,a.a.createElement(j,{initialValue:"<p>This is the initial content of the editor</p>",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |             alignleft aligncenter alignright alignjustify |             bullist numlist outdent indent | removeformat | help"},onEditorChange:function(n,t){console.log("Content was updated:",n)}})))}}}]);
//# sourceMappingURL=component---src-pages-editors-tinymce-tsx-be9c2b15a4d2492ab3e3.js.map