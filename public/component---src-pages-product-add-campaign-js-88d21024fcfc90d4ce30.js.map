{"version":3,"sources":["webpack:///./src/pages/product/add-campaign.js"],"names":["Input","styled","InputGroup","SelectStyled","Select","campaignTypeOption","value","label","isBrowser","window","AddCampaign","state","CampaignTyData","CampaignName","CampaignTypeDataId","CampaignAddedState","ProductId","CompanyId","saveState","data","setState","onSaveCampaign","e","axios","method","url","params","tblName","queryType","then","response","console","log","catch","error","onSelectCampaignTypeOption","onChangeCampaignName","target","componentWillUnmount","this","componentDidMount","isLoggedIn","location","href","queryString","search","urlParams","URLSearchParams","prodId","get","companyId","render","onChangeProductName","title","className","breakPoint","xs","htmlFor","fullWidth","size","type","placeholder","id","name","onChange","bind","options","md","status","shape","onClick","Component"],"mappings":"yUAcMA,EAAQC,YAAOC,KAAV,0EAAGD,CAAH,yBAGLE,EAAeF,YAAOG,KAAV,iFAAGH,CAAH,yBAIZI,EAAqB,CACvB,CAAEC,MAAO,IAAKC,MAAO,oBACrB,CAAED,MAAO,IAAKC,MAAO,qBACrB,CAAED,MAAO,IAAKC,MAAO,eAGnBC,EAA8B,oBAAXC,OAEJC,E,oJACnBC,MAAQ,CACNC,eAAgB,GAChBC,aAAc,GACdC,mBAAoB,GACpBC,oBAAoB,EACpBC,UAAW,GACXC,UAAW,I,EAGbC,UAAY,SAACC,GACX,EAAKC,SAASD,I,EAmChBE,eAAiB,SAACC,GAChB,qBAAQJ,EAAR,EAAQA,UAAR,EAAmBP,MACnBY,IAAM,CACJC,OAAQ,MACRC,IAAK,oEACLC,OAAQ,CACNC,QAAS,eACTC,UAAW,iBACXd,mBAAoB,EAAKH,MAAMG,mBAC/BD,aAAc,EAAKF,MAAME,aACzBG,UAAW,EAAKL,MAAMK,UACtBC,UAAW,EAAKN,MAAMM,aAGzBY,MAAK,SAAUC,GACdC,QAAQC,IAAIF,EAAZ,mCACAZ,EAAU,CACRH,oBAAoB,OAGvBkB,OAAM,SAAUC,GACfH,QAAQC,IAAIE,EAAZ,a,EAIJC,2BAA6B,SAACb,GAC5B,EAAKJ,UAAU,CACXJ,mBAAoBQ,EAAEhB,S,EAI5B8B,qBAAuB,SAACd,GAEtB,EAAKJ,UAAU,CACXL,aAAcS,EAAEe,OAAO/B,S,8CAlE7BgC,qBAAA,WACEC,KAAKnB,SAAS,CACVR,eAAgB,GAChBC,aAAc,GACdC,mBAAoB,GACpBC,oBAAoB,EACpBC,UAAW,GACXC,UAAW,M,EAGjBuB,kBAAA,YACOC,eAAgBjC,IACnBC,OAAOiC,SAASC,KAAK,KAGDJ,KAAdrB,UAAR,IAGM0B,EAAcnC,OAAOiC,SAASG,OAC9BC,EAAY,IAAIC,gBAAgBH,GAChCI,EAASF,EAAUG,IAAI,aACvBC,EAAYJ,EAAUG,IAAI,aAEhCV,KAAKrB,UAAU,CACbF,UAAWgC,EACX/B,UAAWiC,K,EA8CfC,OAAA,WAEyGZ,KAAhGa,oBAFC,IAAD,EAEqBjB,EAA2EI,KAA3EJ,2BAA4Bd,EAA+CkB,KAA/ClB,eAAgBe,EAA+BG,KAA/BH,qBAA+BG,KAAT5B,MAE9F,OACE,oCACE,kBAAC,IAAD,CAAK0C,MAAM,iBACX,yBAAKC,UAAU,6BACb,kBAAC,IAAD,KACI,kBAAC,IAAD,KAEE,kBAAC,IAAD,KACI,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,WAAY,CAAEC,GAAI,KACrB,wBAAIF,UAAU,oBAAd,gBACEf,KAAK5B,MAAMI,mBAAqB,yBAAKuC,UAAU,4BAAf,mCAAkF,OAIxH,kBAAC,IAAD,CAAKA,UAAU,kDACb,kBAAC,IAAD,CAAKA,UAAU,aACf,8BACI,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,WAAY,CAAEC,GAAI,KACvB,2BAAOC,QAAQ,gBAAf,iBACE,kBAACzD,EAAD,CAAO0D,WAAS,EAACC,KAAK,SACpB,2BAAOC,KAAK,OAAOC,YAAY,GAAGC,GAAG,eAAeR,UAAU,eAAeS,KAAK,eAAeC,SAAU5B,EAAqB6B,KAAK1B,UAGzI,kBAAC,IAAD,CAAKgB,WAAY,CAAEC,GAAI,KACrB,2BAAOC,QAAQ,gBAAf,QACA,kBAACtD,EAAD,CAAc+D,QAAS7D,EAAoBwD,YAAY,uBAAuBC,GAAG,eAAeC,KAAK,eAAgBC,SAAU7B,EAA2B8B,KAAK1B,SAEjK,kBAAC,MAAD,GAAKgB,WAAY,CAAEC,GAAI,MAAvB,WAAyC,CAAEW,GAAI,GAA/C,GACI,kBAAC,IAAD,CAAQC,OAAO,UAAUR,KAAK,SAASS,MAAM,YAAYC,QAASjD,EAAgBqC,WAAS,GAA3F,+B,GAvHSa","file":"component---src-pages-product-add-campaign-js-88d21024fcfc90d4ce30.js","sourcesContent":["import Select from '@paljs/ui/Select';\nimport { InputGroup } from '@paljs/ui/Input';\nimport { Card, CardBody } from '@paljs/ui/Card';\nimport { Button } from '@paljs/ui/Button';\nimport Col from '@paljs/ui/Col';\nimport Row from '@paljs/ui/Row';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport SEO from '../../components/SEO';\nimport axios from 'axios';\nimport { Container } from '@material-ui/core';\n\nimport { isLoggedIn } from \"../../components/services/auth\"\n\nconst Input = styled(InputGroup)`\n  margin-bottom: 10px;\n`;\nconst SelectStyled = styled(Select)`\n  margin-bottom: 1rem;\n`;\n\nconst campaignTypeOption = [\n    { value: '1', label: 'One Time Billing' },\n    { value: '2', label: 'Recurring Billing' },\n    { value: '3', label: 'No Billing' },\n  ];\n\nconst isBrowser = typeof window !== \"undefined\"\n\nexport default class AddCampaign extends Component  {\n  state = {\n    CampaignTyData: [],\n    CampaignName: '',\n    CampaignTypeDataId: '',\n    CampaignAddedState: false,\n    ProductId: '',\n    CompanyId: ''\n  }  \n\n  saveState = (data) => {\n    this.setState(data);\n  }\n\n  componentWillUnmount(){\n    this.setState({\n        CampaignTyData: [],\n        CampaignName: '',\n        CampaignTypeDataId: '',\n        CampaignAddedState: false,\n        ProductId: '',\n        CompanyId: ''\n    })  \n  }\n  componentDidMount() {\n    if (!isLoggedIn() && isBrowser) {\n      window.location.href=\"/\"\n    }\n\n    const { saveState } = this;\n\n    /* getting url parameters */\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const prodId = urlParams.get('ProductID');\n    const companyId = urlParams.get('CompanyID')\n\n    this.saveState({\n      ProductId: prodId,\n      CompanyId: companyId\n    });\n\n  }\n\n  \n  /** Saving Product **/\n  onSaveCampaign = (e) => {\n    const { saveState, state } = this;\n    axios({\n      method: 'get',\n      url: 'https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php',\n      params: {\n        tblName: 'tblCampaigns',\n        queryType: 'addNewCampaign',\n        CampaignTypeDataId: this.state.CampaignTypeDataId,\n        CampaignName: this.state.CampaignName,\n        ProductId: this.state.ProductId,\n        CompanyId: this.state.CompanyId,\n      }\n    })\n    .then(function (response) {\n      console.log(response,`New Campaign successfully Added`);\n      saveState({\n        CampaignAddedState: true\n      });\n    })\n    .catch(function (error) {\n      console.log(error,`error`);\n    });\n  }\n\n  onSelectCampaignTypeOption = (e) => { \n    this.saveState({\n        CampaignTypeDataId: e.value\n    });\n  }\n\n  onChangeCampaignName = (e) => {\n    // v will be true or false\n    this.saveState({\n        CampaignName: e.target.value\n    });\n\n  }\n\n  render() {\n\n    const {onChangeProductName, onSelectCampaignTypeOption, onSaveCampaign, onChangeCampaignName, state} = this;\n\n    return (\n      <>\n        <SEO title=\"ADD CAMPAIGN\" />\n        <div className=\"content-wrapper px-4 py-4\">\n          <Card>\n              <CardBody>\n\n                <Container>\n                    <Row>\n                      <Col breakPoint={{ xs: 12 }}>\n                        <h1 className=\"text-center mb-5\">ADD CAMPAIGN</h1>\n                        { this.state.CampaignAddedState ? <div className=\"text-center text-success\">Successfully Added New Campaign</div> : null }\n                      </Col>\n                    </Row>\n\n                    <Row className=\"justify-content-center align-items-center mb-5\">\n                      <Col className=\"col-lg-12\">\n                      <form>\n                          <Row>\n                            <Col breakPoint={{ xs: 12 }} >\n                            <label htmlFor=\"CampaignName\">Campaign Name</label>\n                              <Input fullWidth size=\"Small\">\n                                <input type=\"text\" placeholder=\"\" id=\"CampaignName\" className=\"CampaignName\" name=\"CampaignName\" onChange={onChangeCampaignName.bind(this)}/>\n                              </Input>\n                            </Col>\n                            <Col breakPoint={{ xs: 12 }}> \n                              <label htmlFor=\"CampaignType\">Type</label>\n                              <SelectStyled options={campaignTypeOption} placeholder='Select Campaign Type' id=\"CampaignType\" name=\"CampaignType\"  onChange={onSelectCampaignTypeOption.bind(this)}  />\n                            </Col>\n                            <Col breakPoint={{ xs: 12 }} breakPoint={{ md: 6 }}>\n                                <Button status=\"Success\" type=\"button\" shape=\"SemiRound\" onClick={onSaveCampaign} fullWidth>Add New Campaign</Button>\n                            </Col>\n                        </Row>\n                              \n                      </form> \n                      </Col>\n                    </Row>\n\n                  </Container>\n\n              </CardBody>\n            </Card>\n          </div>\n      </>\n    );\n  }\n}"],"sourceRoot":""}