(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{Yqdn:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return N}));var n=t("JX7q"),r=t("dI71"),l=(t("ToJy"),t("0HrA")),c=t("G9dV"),o=t("jGo9"),i=t("DAwz"),s=(t("Wbzz"),t("paqj")),m=t("eUAm"),d=t("q1tI"),u=t.n(d),b=t("vOnD"),p=t("1Yd/"),E=t("vDqi"),h=t.n(E),g=t("Ji2X"),v=t("PoRk"),f=t("kzC8"),C=t("e65S"),O=Object(b.e)(c.a).withConfig({displayName:"leads__Input",componentId:"sc-1d0qcnk-0"})(["margin-bottom:10px;"]),S=Object(b.e)(l.a).withConfig({displayName:"leads__SelectStyled",componentId:"sc-1d0qcnk-1"})(["margin-bottom:1rem;"]),j="undefined"!=typeof window,N=function(e){function a(){for(var a,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(a=e.call.apply(e,[this].concat(r))||this).state={status:"Active",company:{label:"All",value:0},searchBy:{label:"Email",value:"EmailAddress"},searchFor:"",selected:Object.assign({},f.e,{Active:"Info"}),data:[],tempData:[],loader:"",error:!1,errorMsg:"",perpage:10,current:0,pagination:1},a.saveState=function(e){a.setState(e)},a.onChangeDropdown=function(e,t){var n;a.saveState(((n={})[e]={label:t.label,value:t.value},n))},a.onChangeInputText=function(e){a.saveState({searchFor:e.target.value})},a.selStatus=function(e){var t,n=e.target.value;a.saveState({selected:Object.assign({},f.e,(t={},t[n]="Info",t)),status:n})},a.onSearchLeads=function(){var e=Object(n.a)(a),t=e.state,r=t.company,l=t.searchBy,c=t.searchFor,o=t.status,i=e.saveState;i({loader:"Loading!!!",error:!1,errorMsg:"",data:[]}),h.a.get("https://touchstone-api.abelocreative.com/touchstone-ajax/ajax.php",{params:{tblName:"tblLeads",queryType:"searchLeadsByCompanyForBy",company:r.value,searchBy:l.value,searchFor:c,status:o}}).then((function(e){var a=e.data,t=!1,n="";a.length<=0&&(t=!0,n=f.c),i({data:a,tempData:a,error:t,errorMsg:n})})).catch((function(e){console.log(e),i({error:"error"})}))},a.pageFunc=function(e,t,n,r,l){if(void 0===r&&(r=0),l.preventDefault(),void 0===e)return"type required";if(void 0===t)return"perpage required";if(void 0===n)return"max required";var c=a.state,o=c.pagination,i=c.current,s=c.data,m=Object(f.j)({lengthData:s.length,pagination:o,current:i,perpage:t,max:n,number:r,type:e});a.saveState(m)},a.pageFuncLimit=function(e,t){var n=a.state,r=n.current,l=n.data,c=n.perpage,o=n.pagination,i=t.target.value;if(i>0&&i<=e){var s=Object(f.j)({lengthData:l.length,pagination:o,current:r,perpage:c,max:e,number:i});a.saveState(s)}},a.sortCol=function(e){var t,n=a.state,r=n.data,l=n.toggleFName,c=n.toggleLName,o=n.toggleEmail,i=n.togglePhone,s=n.toggleRep,m=n.toggleService,d=n.toggleDisposition,u=n.toggleSource,b=n.toggleCreate,p=n.toggleModified;r.sort((function(a,n){var r,E="",h="";switch(e){case"FirstName":E=Object(f.d)(a.FirstName),h=Object(f.d)(n.FirstName),r=l,t={toggleFName:!l};break;case"LastName":E=Object(f.d)(a.LastName),h=Object(f.d)(n.LastName),r=c,t={toggleLName:!c};break;case"Email":E=Object(f.d)(a.Email),h=Object(f.d)(n.Email),r=o,t={toggleEmail:!o};break;case"Phone":E=Object(f.d)(a.Phone),h=Object(f.d)(n.Phone),r=i,t={togglePhone:!i};break;case"Rep":E=Object(f.d)(a.Rep),h=Object(f.d)(n.Rep),r=s,t={toggleRep:!s};break;case"Service":E=Object(f.d)(a.Service),h=Object(f.d)(n.Service),r=m,t={toggleService:!m};break;case"Disposition":E=Object(f.d)(a.Disposition),h=Object(f.d)(n.Disposition),r=d,t={toggleDisposition:!d};break;case"Source":E=Object(f.d)(a.Source),h=Object(f.d)(n.Source),r=u,t={toggleSource:!u};break;case"Created":E=Object(f.d)(a.Created),h=Object(f.d)(n.Created),r=b,t={toggleCreate:!b};break;case"Modified":E=Object(f.d)(a.Modified),h=Object(f.d)(n.Modified),r=p,t={toggleModified:!p};break;default:E=Object(f.d)(a.FirstName),h=Object(f.d)(n.FirstName),r=l,t={toggleFName:!l}}return Object(f.o)(E,h,r)})),a.saveState(Object.assign({data:r},t))},a.onChangeDropdown=function(e){a.saveState({perpage:e.value,current:0,pagination:1})},a.manipulateData=function(e){var t=e.query,n=e.queryBy,r=a.state.tempData.filter((function(e){switch(n){case"FirstName":return-1!==e.FirstName.toLowerCase().indexOf(t.toLowerCase());case"LastName":return-1!==e.LastName.toLowerCase().indexOf(t.toLowerCase());case"Email":return-1!==e.Email.toLowerCase().indexOf(t.toLowerCase());case"Phone":return-1!==e.Phone.toLowerCase().indexOf(t.toLowerCase());case"Rep":return-1!==e.Rep.toLowerCase().indexOf(t.toLowerCase());case"Service":return-1!==e.Service.toLowerCase().indexOf(t.toLowerCase());case"Disposition":return-1!==e.Disposition.toLowerCase().indexOf(t.toLowerCase());case"Source":return-1!==e.Source.toLowerCase().indexOf(t.toLowerCase());case"Created":return-1!==e.Created.toLowerCase().indexOf(t.toLowerCase());case"Modified":return-1!==e.Modified.toLowerCase().indexOf(t.toLowerCase());default:return e}})),l={};r.length<=0&&(l={error:!0,errorMsg:f.c}),a.saveState(Object.assign({data:r,current:0,pagination:1},l))},a.resetMe=function(){a.saveState({data:a.state.tempData,current:0,pagination:1})},a.display=function(e){var t=e.data,r=e.loader,l=e.error,c=e.errorMsg,o=e.current,i=e.perpage,d=e.pagination,b=Object(n.a)(a),p=b.pageFunc,E=b.pageFuncLimit,h=b.sortCol,v=b.onChangeDropdown,O=b.manipulateData,j=b.resetMe,N=[{value:"FirstName",label:"FIRST NAME"},{value:"LastName",label:"LAST NAME"},{value:"Email",label:"EMAIL"},{value:"Phone",label:"PHONE"},{value:"Rep",label:"REP"},{value:"Service",label:"SERVICE"},{value:"Disposition",label:"DISPOSITION"},{value:"Source",label:"SOURCE"},{value:"Created",label:"CREATED"},{value:"Modified",label:"MODIFIED"}];if(void 0!==t&&t.length>0){var k,D,y=t.slice(o,o+i),L=Math.floor(t.length/i)+(Math.floor(t.length%i)>0?1:0);return u.a.createElement("div",null,u.a.createElement(C.a,{dropdown:N,searchMe:O,resetMe:j}),u.a.createElement("table",{className:"table table-striped table-hover"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"FirstName")},"FIRST NAME"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"LastName")},"LAST NAME"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Email")},"EMAIL"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Phone")},"PHONE"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Rep")},"REP"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Service")},"SERVICE"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Disposition")},"DISPOSITION"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Source")},"SOURCE"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Created")},"CREATED"),u.a.createElement("th",{scope:"col",onClick:h.bind(Object(n.a)(a),"Modified")},"MODIFIED"))),u.a.createElement("tbody",null,y.map((function(e){var a=e.LeadID,t=e.FirstName,n=e.LastName,r=e.Email,l=e.Phone,c=e.Rep,o=e.Service,i=e.Disposition,s=e.Source,m=e.Created,d=e.Modified;return u.a.createElement("tr",{key:a},u.a.createElement("td",null,u.a.createElement("a",{className:"color-red text-decoration-none",href:"/leads/edit-lead?leadID="+a},t)),u.a.createElement("td",null,u.a.createElement("a",{className:"color-red text-decoration-none",href:"/leads/edit-lead?leadID="+a},n)),u.a.createElement("td",null,u.a.createElement("a",{className:"color-red text-decoration-none",href:"/leads/edit-lead?leadID="+a},r)),u.a.createElement("td",null,l),u.a.createElement("td",null,c),u.a.createElement("td",null,o),u.a.createElement("td",null,f.a[i]),u.a.createElement("td",null,f.b[s]),u.a.createElement("td",null,m),u.a.createElement("td",null,d))})))),u.a.createElement("nav",{"aria-label":"Page navigation example"},u.a.createElement(g.a,null,u.a.createElement(m.a,null,u.a.createElement(s.a,((k={breakPoint:{xs:12}}).breakPoint={md:8},k),u.a.createElement("ul",{class:"pagination"},u.a.createElement("li",{class:"page-item"},u.a.createElement("a",{href:"/#",class:"page-link",onClick:p.bind(Object(n.a)(a),"first",i,L,0)},"«")),u.a.createElement("li",{class:"page-item"},u.a.createElement("a",{href:"/#",class:"page-link",onClick:p.bind(Object(n.a)(a),"prev",i,L,0)},"‹")),Object(f.i)(L,E,d),u.a.createElement("li",{class:"page-item"},u.a.createElement("a",{href:"/#",class:"page-link",onClick:p.bind(Object(n.a)(a),"next",i,L,0)},"›")),u.a.createElement("li",{class:"page-item"},u.a.createElement("a",{href:"/#",class:"page-link",onClick:p.bind(Object(n.a)(a),"last",i,L,0)},"»")))),u.a.createElement(s.a,((D={breakPoint:{xs:12}}).breakPoint={md:4},D),u.a.createElement(S,{options:f.k,placeholder:i,value:i,id:"perPage",name:"perPage",onChange:v.bind(Object(n.a)(a))}))))))}if(l)switch(c){case f.c:return u.a.createElement("div",null,u.a.createElement(C.a,{dropdown:N,searchMe:O,resetMe:j}),u.a.createElement("table",{className:"table table-striped table-hover"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"FIRST NAME"),u.a.createElement("th",null,"LAST NAME"),u.a.createElement("th",null,"EMAIL"),u.a.createElement("th",null,"PHONE"),u.a.createElement("th",null,"REP"),u.a.createElement("th",null,"SERVICE"),u.a.createElement("th",null,"DISPOSITION"),u.a.createElement("th",null,"SOURCE"),u.a.createElement("th",null,"CREATED"),u.a.createElement("th",null,"MODIFIED")))))}return r},a}Object(r.a)(a,e);var t=a.prototype;return t.componentDidMount=function(){!Object(v.c)()&&j&&(window.location.href="/")},t.render=function(){var e,a,t,n,r,l=this.onSearchLeads,c=this.selStatus,d=this.onChangeDropdown,b=this.onChangeInputText,E=this.display,h=this.state,v=h.selected,C=h.company,j=h.searchBy,N=h.searchFor;return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,{title:"LEAD ADMIN"}),u.a.createElement("div",{className:"content-wrapper px-4 py-4"},u.a.createElement(o.a,null,u.a.createElement(o.b,null,u.a.createElement(g.a,null,u.a.createElement(m.a,null,u.a.createElement(s.a,{breakPoint:{xs:12}},u.a.createElement("h1",{className:"text-center mb-5"},"LEAD ADMIN"))),u.a.createElement(m.a,{className:"justify-content-center align-items-center mb-5"},u.a.createElement(s.a,{className:"col-lg-12"},u.a.createElement(m.a,{className:"justify-content-center mb-4"},u.a.createElement(s.a,{breakPoint:{xs:12},className:"d-flex justify-content-center"},u.a.createElement(i.a,{className:"mx-1",status:v.Active,type:"button",shape:"square",onClick:c.bind(this),value:"Active"},"Active"),u.a.createElement(i.a,{className:"mx-1",status:v.Referred,type:"button",shape:"square",onClick:c.bind(this),value:"Referred"},"Referred"),u.a.createElement(i.a,{className:"mx-1",status:v.Deactivated,type:"button",shape:"square",onClick:c.bind(this),value:"Deactivated"},"Deactivated"),u.a.createElement(i.a,{className:"mx-1",status:v.Admin,type:"button",shape:"square",onClick:c.bind(this),value:"Admin"},"Admin"),u.a.createElement(i.a,{className:"mx-1",status:v.All,type:"button",shape:"square",onClick:c.bind(this),value:"All"},"All"))),u.a.createElement(m.a,null,u.a.createElement(s.a,((e={breakPoint:{xs:12}}).breakPoint={md:4},e),u.a.createElement("label",{htmlFor:"CompanyID"},"Company"),u.a.createElement(S,{options:f.l,placeholder:C.label,value:C.value,id:"CompanyID",name:"CompanyID",onChange:d.bind(this,"company")})),u.a.createElement(s.a,((a={breakPoint:{xs:12}}).breakPoint={md:4},a),u.a.createElement("label",{htmlFor:"SearchBy"},"Search By"),u.a.createElement(S,{options:f.m,placeholder:j.label,value:j.value,id:"SearchBy",name:"SearchBy",onChange:d.bind(this,"searchBy")})),u.a.createElement(s.a,((t={breakPoint:{xs:12}}).breakPoint={md:4},t),u.a.createElement("label",{htmlFor:"SearchVal"},"Search For"),u.a.createElement(O,{fullWidth:!0,size:"Medium",className:"notes"},u.a.createElement("input",{type:"text",placeholder:N,value:N,id:"SearchVal",name:"SearchVal",onChange:b.bind(this)}))),u.a.createElement(s.a,((n={breakPoint:{xs:12}}).breakPoint={md:6},n),u.a.createElement(i.a,{status:"Success",type:"button",shape:"SemiRound",onClick:l},"View Leads"))))),u.a.createElement(m.a,{className:"justify-content-center align-items-center mb-4"},u.a.createElement(s.a,((r={breakPoint:{xs:12}}).breakPoint={md:12},r),u.a.createElement("h2",{className:"mb-0"},"Results"))),u.a.createElement(m.a,{className:"mb-5"},u.a.createElement(s.a,{id:"main_view"},E(h))))))))},a}(d.Component)}}]);
//# sourceMappingURL=component---src-pages-leads-index-js-ca3dff8093ce8ec8634a.js.map